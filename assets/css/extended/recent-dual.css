/* =========================================================
   YanlunAI Recent Cards (PaperMod friendly) - FULL CSS (CLEAN + FINAL)
   Fixes:
   1) Dark cards match PaperMod background (no gray/fog)
   2) Few cards auto expand (1 card => full width)
   3) Section header ("æœ€æ–°æ›´æ–°") matches "ç²¾é€‰æŽ¨è" typography
   4) Divider line is ALWAYS visible in dark (double-layer line + z-index)
   5) Pagination follows theme (light/dark)
   ---------------------------------------------------------
   âœ… IMPORTANT:
   - ä½ å½“å‰ CSS é‡Œé‡å¤å®šä¹‰äº† .yl-recent-header / .yl-line / .yl-pill
     å¯¼è‡´â€œæš—è‰²åˆ†å‰²çº¿å­˜åœ¨ä½†çœ‹ä¸è§â€ã€‚
   - ä¸‹é¢æ˜¯ä¸€ä»½ã€åŽ»é‡åŽçš„å…¨é‡å¯æ›¿æ¢ç‰ˆæœ¬ã€‘ã€‚
   ========================================================= */

/* -------------------------
   0) Theme Tokens
   ------------------------- */
   :root{
    --rd-radius: 22px;
    --rd-pad: 18px;
  
    /* PaperMod-aware surfaces */
    --rd-bg1: color-mix(in srgb, var(--entry) 92%, transparent);
    --rd-bg2: color-mix(in srgb, var(--entry) 82%, transparent);
    --rd-border: color-mix(in srgb, var(--border) 65%, transparent);
  
    --rd-shadow: 0 10px 26px rgba(0,0,0,.08);
    --rd-shadow-hover: 0 16px 40px rgba(0,0,0,.12);
  
    --rd-glow-a: rgba(40,170,255,.12);
    --rd-glow-b: rgba(120,110,255,.10);
  
    --rd-title: var(--primary);
    --rd-text:  var(--secondary);
    --rd-meta:  color-mix(in srgb, var(--secondary) 80%, transparent);
  }
  
  body.dark, html.dark{
    --rd-bg1: color-mix(in srgb, var(--entry) 96%, transparent);
    --rd-bg2: color-mix(in srgb, var(--entry) 90%, transparent);
    --rd-border: color-mix(in srgb, var(--border) 75%, transparent);
  
    --rd-shadow: 0 18px 46px rgba(0,0,0,.62);
    --rd-shadow-hover: 0 22px 60px rgba(0,0,0,.72);
  
    --rd-glow-a: rgba(50,160,255,.14);
    --rd-glow-b: rgba(150,130,255,.12);
  
    --rd-title: var(--primary);
    --rd-text:  var(--secondary);
    --rd-meta:  color-mix(in srgb, var(--secondary) 80%, transparent);
  }
  
  /* -------------------------
     1) Container + Section Header (æœ€æ–°æ›´æ–°)
     ------------------------- */
  .yl-recent{ margin-top: 18px; padding-bottom: 28px; }
  .yl-recent-body{ position: relative; }
  
  .yl-recent-header{
    position: relative;
    z-index: 10;                 /* âœ… å…³é”®ï¼šåŽ‹è¿‡ fan çš„æ¸å˜/é˜´å½± */
    display:flex;
    align-items:center;
    justify-content:center;
    gap:16px;
    margin: 22px 0 26px;
  }
  
  /* âœ… åˆ†å‰²çº¿ï¼šäº®è‰²æ¸…æ™°ï¼›æš—è‰²ç”¨â€œåŒå±‚çº¿â€é˜²æ­¢è¢«åž */
  .yl-line{
    position: relative;
    height: 1px;
    flex: 1;
    background: linear-gradient(
      to right,
      rgba(0,0,0,0),
      rgba(0,0,0,.18),
      rgba(0,0,0,0)
    );
  }
  
  /* æš—è‰²ç¬¬ä¸€å±‚ï¼ˆäº®çº¿ï¼‰ */
  body.dark .yl-line,
  html.dark .yl-line{
    background: linear-gradient(
      to right,
      rgba(255,255,255,0),
      rgba(255,255,255,.22),
      rgba(255,255,255,0)
    );
  }
  
  /* æš—è‰²ç¬¬äºŒå±‚ï¼ˆé˜´å½±çº¿ï¼‰â€”â€”åˆ¶é€ â€œæµ®åœ¨èƒŒæ™¯ä¸Šâ€çš„ä½“æ„ŸåŽšåº¦ */
  body.dark .yl-line::after,
  html.dark .yl-line::after{
    content:"";
    position:absolute;
    inset:0;
    transform: translateY(1px);
    background: linear-gradient(
      to right,
      rgba(0,0,0,0),
      rgba(0,0,0,.45),
      rgba(0,0,0,0)
    );
    opacity: .55;
    pointer-events:none;
  }
  
  /* âœ… æ ‡é¢˜ï¼šä¸Žâ€œç²¾é€‰æŽ¨èâ€ä¸€è‡´çš„ section title é£Žæ ¼ */
  .yl-pill{
    position: relative;
    display:inline-flex;
    align-items:center;
    gap: 8px;
  
    padding: 0;
    border: 0;
    border-radius: 0;
    background: transparent;
    box-shadow: none;
  
    font-size: 1.25rem;
    font-weight: 800;
    line-height: 1.2;
    letter-spacing: .2px;
    white-space: nowrap;
  
    color: var(--primary);
  }
  
  /* å·¦ä¾§å¾½æ ‡ï¼šðŸ†• */
  .yl-pill::before{
    content: "ðŸ†•";
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width: 28px;
    height: 28px;
    border-radius: 10px;
  
    font-size: 14px;
    line-height: 1;
  
    background: color-mix(in srgb, var(--entry) 92%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    color: var(--secondary);
  }
  
  body.dark .yl-pill::before,
  html.dark .yl-pill::before{
    background: color-mix(in srgb, var(--entry) 96%, transparent);
    border-color: color-mix(in srgb, var(--border) 80%, transparent);
  }
  
  /* æš—è‰²æ ‡é¢˜åŠ ä¸€ç‚¹é”šå®šæ„Ÿï¼ˆå¯è§ä½†ä¸æŠ¢ï¼‰ */
  body.dark .yl-pill,
  html.dark .yl-pill{
    text-shadow: 0 1px 0 rgba(0,0,0,.65);
  }
  
  .yl-switch-sentinel{ height: 1px; }
  
  /* -------------------------
     2) Fan (visual-only layer)
     ------------------------- */
  .yl-fan{
    position: absolute;
    left: 0; right: 0;
    height: 240px;
    margin: 0 auto 12px;
    max-width: 980px;
    perspective: 1200px;
    z-index: 2;
    pointer-events: auto;
  }
  @media (max-width: 720px){
    .yl-fan{ height: 220px; }
  }
  
  .yl-fan-card{
    position:absolute;
    left:50%; top: 20px;
    width: 380px; height: 200px;
    transform-origin: center bottom;
    border-radius: 18px;
    overflow:hidden;
    text-decoration:none;
  
    border: 1px solid var(--rd-border);
    box-shadow: var(--rd-shadow);
    background: linear-gradient(180deg, var(--rd-bg1), var(--rd-bg2));
    will-change: transform, opacity;
  }
  
  .yl-fan-media{
    position:absolute; inset:0;
    background-image: var(--yl-bg, none);
    background-size: cover;
    background-position: center;
    filter: blur(10px) saturate(1.05);
    transform: scale(1.10);
    opacity: .14;
  }
  body.dark .yl-fan-media, html.dark .yl-fan-media{ opacity: .08; }
  
  .yl-fan-text{
    position:absolute; left:0; right:0; bottom:0;
    padding: 14px 16px 12px;
  }
  
  .yl-fan-title{
    font-size: 16px;
    font-weight: 900;
    line-height: 1.25;
    color: var(--rd-title);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow:hidden;
  }
  
  .yl-fan-desc{
    margin-top: 8px;
    font-size: 13px;
    line-height: 1.4;
    color: var(--rd-text);
    opacity: .9;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .yl-fan-meta{
    margin-top: 10px;
    font-size: 12px;
    color: var(--rd-meta);
  }
  
  /* Fan positions: first 7 */
  .yl-fan-card[data-idx="0"]{ transform: translateX(-50%) rotateZ(0deg) scale(1); z-index: 10; }
  .yl-fan-card[data-idx="1"]{ transform: translateX(calc(-50% - 150px)) rotateZ(-10deg) scale(.92); z-index: 9; opacity:.95; }
  .yl-fan-card[data-idx="2"]{ transform: translateX(calc(-50% - 280px)) rotateZ(-18deg) scale(.84); z-index: 8; opacity:.85; }
  .yl-fan-card[data-idx="3"]{ transform: translateX(calc(-50% - 390px)) rotateZ(-24deg) scale(.78); z-index: 7; opacity:.75; }
  .yl-fan-card[data-idx="4"]{ transform: translateX(calc(-50% + 150px)) rotateZ(10deg) scale(.92); z-index: 9; opacity:.95; }
  .yl-fan-card[data-idx="5"]{ transform: translateX(calc(-50% + 280px)) rotateZ(18deg) scale(.84); z-index: 8; opacity:.85; }
  .yl-fan-card[data-idx="6"]{ transform: translateX(calc(-50% + 390px)) rotateZ(24deg) scale(.78); z-index: 7; opacity:.75; }
  .yl-fan-card[data-idx]:not([data-idx="0"]):not([data-idx="1"]):not([data-idx="2"]):not([data-idx="3"]):not([data-idx="4"]):not([data-idx="5"]):not([data-idx="6"]){
    display:none;
  }
  
  /* -------------------------
     3) Latest Grid
     ------------------------- */
  .yl-grid{
    position: relative;
    z-index: 1;
  
    max-width: 1120px;
    margin: 0 auto;
  
    /* Fan is absolute => reserve space */
    padding-top: 260px;
  
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 18px;
  
    grid-auto-flow: row;
    align-items: start;
  }
  @media (max-width: 720px){
    .yl-grid{ grid-template-columns: 1fr; padding-top: 240px; }
  }
  
  .yl-recent .yl-grid-card{
    position: relative;
    overflow: hidden;
  
    width: 100%;
    display: block;
  
    text-decoration:none !important;
    color: inherit;
  
    border-radius: var(--rd-radius);
    padding: var(--rd-pad);
  
    border: 1px solid var(--rd-border) !important;
    background: linear-gradient(180deg, var(--rd-bg1), var(--rd-bg2)) !important;
    box-shadow: var(--rd-shadow) !important;
  
    transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
  }
  
  .yl-recent .yl-grid-card::before{
    content:"";
    position:absolute;
    inset:-2px;
    z-index:0;
    pointer-events:none;
  
    background:
      radial-gradient(240px 190px at 12% 20%, var(--rd-glow-a), rgba(0,0,0,0) 60%),
      radial-gradient(280px 210px at 88% 24%, var(--rd-glow-b), rgba(0,0,0,0) 62%),
      radial-gradient(360px 280px at 70% 110%, rgba(0,0,0,.10), rgba(0,0,0,0) 66%);
    opacity: .95;
  }
  
  .yl-recent .yl-grid-card::after{
    content:"";
    position:absolute;
    inset:0;
    z-index:0;
    pointer-events:none;
  
    background:
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,.10) 0px,
        rgba(255,255,255,.10) 1px,
        rgba(255,255,255,0) 11px,
        rgba(255,255,255,0) 20px
      ),
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.10), rgba(0,0,0,.06));
    opacity: .20;
  }
  
  body.dark .yl-recent .yl-grid-card::after,
  html.dark .yl-recent .yl-grid-card::after{
    background:
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,.03) 0px,
        rgba(255,255,255,.03) 1px,
        rgba(255,255,255,0) 12px,
        rgba(255,255,255,0) 22px
      ),
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.04), rgba(0,0,0,.34));
    opacity: .18;
  }
  
  .yl-recent .yl-grid-card:hover{
    transform: translateY(-2px);
    box-shadow: var(--rd-shadow-hover) !important;
    border-color: color-mix(in srgb, rgba(70,170,255,.22) 100%, transparent) !important;
  }
  
  .yl-recent .yl-grid-cover,
  .yl-recent .yl-grid-cover--ph{
    display: none !important;
  }
  
  .yl-recent .yl-grid-title,
  .yl-recent .yl-grid-desc,
  .yl-recent .yl-grid-meta{
    position: relative;
    z-index: 1;
  }
  
  .yl-recent .yl-grid-title{
    margin-top: 2px;
    font-size: 1.05rem;
    font-weight: 900;
    line-height: 1.28;
    letter-spacing: .1px;
    color: var(--rd-title);
  
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow:hidden;
  }
  
  .yl-recent .yl-grid-desc{
    margin-top: 10px;
    font-size: .95rem;
    line-height: 1.60;
    color: var(--rd-text);
  
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow:hidden;
  }
  
  .yl-recent .yl-grid-meta{
    margin-top: 14px;
    font-size: .88rem;
    color: var(--rd-meta);
    display:flex;
    align-items:center;
    gap: 6px;
  }
  
  /* -------------------------
     4) Mode switching + Force grid
     ------------------------- */
  .yl-recent-body[data-mode="fan"] .yl-grid{
    opacity: 0;
    pointer-events: none;
  }
  .yl-recent-body[data-mode="grid"] .yl-fan{ display: none; }
  .yl-recent-body[data-mode="grid"] .yl-grid{
    opacity: 1;
    pointer-events: auto;
  }
  .yl-grid{ transition: opacity .18s ease; }
  
  /* Force grid when few items */
  .yl-recent-body.force-grid .yl-fan{ display: none !important; }
  .yl-recent-body.force-grid .yl-grid{
    opacity: 1 !important;
    pointer-events: auto !important;
    padding-top: 0 !important;
  }
  
  /* -------------------------
     5) Pagination (theme-following)
     ------------------------- */
  .yl-pagination{ margin-top: 14px; }
  
  .yl-pagination .pagination{
    display:flex;
    gap: 8px;
    justify-content:flex-start;
    align-items:center;
    flex-wrap: wrap;
    padding: 0;
    margin: 0;
    list-style: none;
  }
  
  .yl-pagination .pagination a,
  .yl-pagination .pagination span{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    height: 32px;
    min-width: 32px;
    padding: 0 10px;
  
    border-radius: 999px;
    text-decoration: none !important;
  
    background: color-mix(in srgb, var(--entry) 92%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    color: var(--secondary);
  
    box-shadow: 0 8px 22px rgba(0,0,0,.10);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
  }
  
  body.dark .yl-pagination .pagination a,
  html.dark .yl-pagination .pagination a,
  body.dark .yl-pagination .pagination span,
  html.dark .yl-pagination .pagination span{
    background: color-mix(in srgb, var(--entry) 96%, transparent);
    border-color: color-mix(in srgb, var(--border) 80%, transparent);
    box-shadow: 0 14px 34px rgba(0,0,0,.40);
  }
  
  .yl-pagination .pagination a:hover{
    transform: translateY(-1px);
    border-color: color-mix(in srgb, rgba(70,170,255,.28) 100%, transparent);
    box-shadow: 0 12px 30px rgba(0,0,0,.16);
  }
  
  .yl-pagination .pagination .active a,
  .yl-pagination .pagination a[aria-current="page"],
  .yl-pagination .pagination span[aria-current="page"],
  .yl-pagination .pagination .page-item.active .page-link{
    color: var(--primary);
    border-color: color-mix(in srgb, var(--primary) 35%, transparent);
    background: color-mix(in srgb, var(--entry) 98%, transparent);
    font-weight: 800;
  }
  
  .yl-pagination .pagination .disabled a,
  .yl-pagination .pagination .disabled span,
  .yl-pagination .pagination a[aria-disabled="true"]{
    opacity: .55;
    pointer-events: none;
    box-shadow: none;
  }
  
  /* nav.pagination variant (if used) */
  .yl-pagination nav.pagination{
    display:flex;
    gap: 8px;
    align-items:center;
    flex-wrap: wrap;
  }
  
  .yl-pagination nav.pagination a{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    height: 32px;
    min-width: 32px;
    padding: 0 10px;
    border-radius: 999px;
    text-decoration:none !important;
  
    background: color-mix(in srgb, var(--entry) 92%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    color: var(--secondary);
    box-shadow: 0 8px 22px rgba(0,0,0,.10);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
  }
  
  body.dark .yl-pagination nav.pagination a,
  html.dark .yl-pagination nav.pagination a{
    background: color-mix(in srgb, var(--entry) 96%, transparent);
    border-color: color-mix(in srgb, var(--border) 80%, transparent);
    box-shadow: 0 14px 34px rgba(0,0,0,.40);
  }
  
  .yl-pagination nav.pagination a:hover{
    transform: translateY(-1px);
    border-color: color-mix(in srgb, rgba(70,170,255,.28) 100%, transparent);
    box-shadow: 0 12px 30px rgba(0,0,0,.16);
  }
  