{{- define "main" -}}

{{/* å–é¦–é¡µå†…å®¹ */}}
{{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
{{ $featured := where $pages "Params.featured" true }}
{{ $featured = first 3 $featured }}

{{/* âœ… æœ€æ–°æ›´æ–°åˆ†é¡µï¼ˆå— hugo.toml çš„ [pagination].pagerSize æ§åˆ¶ï¼‰ */}}
{{ $paginator := .Paginate $pages }}

<div class="yanlunai-home">

  <!-- ========== Hero ========== -->
  <section class="yanlunai-hero">
    <div class="yanlunai-hero-left">
      <h1 class="yanlunai-hero-title">ğŸ”¥ ç„±è®ºAI Â· YanlunAI</h1>
      <p class="yanlunai-hero-subtitle">å¤§æ¨¡å‹æŠ€æœ¯æ ˆ Ã— è¡Œä¸šè½åœ°æ‰“æ³• Ã— ä¸ªä½“æˆé•¿è·¯å¾„</p>

      <div class="yanlunai-hero-points">
        <div>ğŸ¯ <b>IP å®šä½</b>ï¼šé¢å‘ä¸€çº¿å·¥ç¨‹å®è·µçš„å¤§æ¨¡å‹ & è¡Œä¸šæ¨¡å‹ç ”ç©¶å‹ä¸ªäººå“ç‰Œ</div>
        <div>ğŸ“š <b>å†…å®¹çŸ©é˜µ</b>ï¼šè®ºæ–‡ç²¾è¯» / å·¥ç¨‹å®è·µ / å·¥å…·è§£æ / è¡Œä¸šæ‚è°ˆ</div>
        <div>ğŸ§  <b>å…³é”®è¯</b>ï¼šRAG å¯ä¿¡æ€§ Â· æ¨ç†èƒ½åŠ› Â· è¡Œä¸šåœºæ™¯è½åœ° Â· ä¿¡åˆ›ç”Ÿæ€</div>
        <div>ğŸ‘¤ <b>é€‚åˆäººç¾¤</b>ï¼šAI å­¦ä¹ è€…ã€ç®—æ³•å·¥ç¨‹å¸ˆã€è¡Œä¸šæ•°å­—åŒ–ä»ä¸šè€…ã€æƒ³å…¥å±€å¤§æ¨¡å‹çš„äºº</div>
      </div>

      <!-- æ ç›®å…¥å£å¡ç‰‡ -->
      <div class="yanlunai-pill-grid">
        <a class="yanlunai-pill" href="{{ "categories/è®ºæ–‡è§£è¯»/" | relURL }}">
          <span class="yanlunai-pill-emoji">ğŸ“„</span>
          <span class="yanlunai-pill-title">è®ºæ–‡è§£è¯»</span>
          <span class="yanlunai-pill-desc">LLM / RAG / Agent</span>
        </a>

        <a class="yanlunai-pill" href="{{ "categories/å·¥ç¨‹å®è·µ/" | relURL }}">
          <span class="yanlunai-pill-emoji">âš™ï¸</span>
          <span class="yanlunai-pill-title">å·¥ç¨‹å®è·µ</span>
          <span class="yanlunai-pill-desc">éƒ¨ç½² / å¾®è°ƒ / æ¨ç†æœåŠ¡</span>
        </a>

        <a class="yanlunai-pill" href="{{ "categories/å·¥å…·è§£æ/" | relURL }}">
          <span class="yanlunai-pill-emoji">ğŸ§°</span>
          <span class="yanlunai-pill-title">å·¥å…·è§£æ</span>
          <span class="yanlunai-pill-desc">æ¡†æ¶è¯„æµ‹ / æ¨ç†å¼•æ“</span>
        </a>

        <a class="yanlunai-pill" href="{{ "categories/æ‚è°ˆ/" | relURL }}">
          <span class="yanlunai-pill-emoji">âœï¸</span>
          <span class="yanlunai-pill-title">æ‚è°ˆ</span>
          <span class="yanlunai-pill-desc">è¡Œä¸šè¶‹åŠ¿ / è¸©å‘å¤ç›˜</span>
        </a>
      </div>
    </div>

    <!-- âœ… å³ä¾§ï¼šLogo + ç¤¾äº¤é“¾æ¥ -->
    <div class="yanlunai-hero-right" aria-label="ç„±è®ºAI Logo">
      <div class="yanlunai-logo-wrap">
        <div class="yanlunai-logo-stack">
          <img class="yanlunai-logo-img"
               src="{{ "logo/yanlunai-logo-512.png" | relURL }}"
               alt="ç„±è®ºAI Logo"
               loading="eager"
               decoding="async">
        </div>
      </div>

      <!-- âœ… ç¤¾äº¤é“¾æ¥ -->
      <div class="yanlunai-social">
        <a class="yanlunai-social-btn" href="https://github.com/yanlunai" target="_blank" rel="noopener">GitHub</a>
        <a class="yanlunai-social-btn" href="https://www.zhihu.com/" target="_blank" rel="noopener">çŸ¥ä¹</a>
        <a class="yanlunai-social-btn" href="https://www.xiaohongshu.com/" target="_blank" rel="noopener">å°çº¢ä¹¦</a>
        <a class="yanlunai-social-btn" href="{{ "index.xml" | relURL }}">RSS</a>
      </div>

      <div class="yanlunai-social-hint">
        å…³æ³¨æˆ‘ï¼šå¤§æ¨¡å‹ Â· RAG Â· è¡Œä¸šè½åœ° Â· å·¥ç¨‹å®è·µ
      </div>
    </div>
  </section>

  <!-- ========== Featured ========== -->
  <section class="yanlunai-section">
    <div class="yanlunai-section-title">â­ ç²¾é€‰æ¨è</div>

    {{ if gt (len $featured) 0 }}
      <div class="yanlunai-cards">
        {{ range $featured }}
          <a class="yanlunai-card yanlunai-card-featured" href="{{ .RelPermalink }}">
            <div class="yanlunai-badge">Editorâ€™s Pick</div>
            <div class="yanlunai-card-title">{{ .Title }}</div>
            {{ with .Summary }}<div class="yanlunai-card-desc">{{ . }}</div>{{ end }}
            <div class="yanlunai-card-meta">{{ .Date.Format "2006-01-02" }} Â· {{ .ReadingTime }} min</div>
          </a>
        {{ end }}
      </div>
    {{ else }}
      <div class="yanlunai-empty">
        è¿˜æ²¡æœ‰è®¾ç½®ç²¾é€‰æ–‡ç« ã€‚ç»™æ–‡ç«  front matter åŠ ä¸Šï¼š<code>featured: true</code> å³å¯å‡ºç°åœ¨è¿™é‡Œï¼ˆæœ€å¤šå±•ç¤º 3 ç¯‡ï¼‰ã€‚
      </div>
    {{ end }}
  </section>

  <!-- ========== Latest (Paginated) ========== -->
  <section class="yanlunai-section">
    <div class="yanlunai-section-title">ğŸ†• æœ€æ–°æ›´æ–°</div>

    <div class="yanlunai-cards">
      {{ range $paginator.Pages }}
        <a class="yanlunai-card yanlunai-card-compact" href="{{ .RelPermalink }}">
          <div class="yanlunai-card-title">{{ .Title }}</div>
          {{ with .Summary }}<div class="yanlunai-card-desc">{{ . }}</div>{{ end }}
          <div class="yanlunai-card-meta">{{ .Date.Format "2006-01-02" }} Â· {{ .ReadingTime }} min</div>
        </a>
      {{ end }}
    </div>

    <!-- âœ… ç¿»é¡µæŒ‰é’® -->
    {{ if gt $paginator.TotalPages 1 }}
      <nav class="pagination">
        {{ if $paginator.HasPrev }}
          <a class="prev" href="{{ $paginator.Prev.URL }}">Â« Prev</a>
        {{ end }}
        {{ if $paginator.HasNext }}
          <a class="next" href="{{ $paginator.Next.URL }}">Next Â»</a>
        {{ end }}
      </nav>
    {{ end }}
  </section>

</div>

{{- end -}}
